<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Oops! | MindEase</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
		<link rel="stylesheet" href="assets/css/all.min.css" />
		<style>
			body {
				background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
				height: 100vh;
				display: flex;
				align-items: center;
				justify-content: center;
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			}
			
			.error-card {
				background: rgba(255, 255, 255, 0.95);
				border-radius: 25px;
				box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(255, 255, 255, 0.2);
				animation: fadeInUp 0.6s ease;
				overflow: hidden;
			}
			
			@keyframes fadeInUp {
				from { opacity: 0; transform: translateY(30px); }
				to { opacity: 1; transform: translateY(0); }
			}
			
			.error-icon {
				font-size: 5rem;
				color: #f5576c;
				animation: bounce 2s infinite;
			}
			
			@keyframes bounce {
				0%, 100% { transform: translateY(0); }
				50% { transform: translateY(-10px); }
			}
			
			.error-header {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				padding: 2rem;
				text-align: center;
			}
			
			.error-code {
				font-size: 6rem;
				font-weight: bold;
				background: linear-gradient(135deg, #fff 0%, #eee 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
			}
			
			.error-body {
				padding: 2.5rem;
			}
			
			.action-buttons .btn {
				border-radius: 50px;
				padding: 0.75rem 2rem;
				font-weight: 600;
				transition: all 0.3s;
			}
			
			.action-buttons .btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 10px 20px rgba(0,0,0,0.15);
			}
			
			.suggestion-card {
				background: #f8f9fa;
				border-radius: 15px;
				padding: 1.5rem;
				margin-top: 1.5rem;
				border-left: 5px solid #667eea;
			}
			
			.suggestion-item {
				display: flex;
				align-items: center;
				margin-bottom: 0.75rem;
				padding: 0.5rem;
				border-radius: 10px;
				transition: background 0.3s;
			}
			
			.suggestion-item:hover {
				background: rgba(102, 126, 234, 0.1);
			}
			
			.suggestion-item i {
				color: #667eea;
				margin-right: 1rem;
			}
			
			.status-animation {
				display: flex;
				justify-content: center;
				gap: 10px;
				margin: 1.5rem 0;
			}
			
			.dot {
				width: 10px;
				height: 10px;
				border-radius: 50%;
				background: #667eea;
				animation: pulse 1.5s infinite;
			}
			
			.dot:nth-child(2) { animation-delay: 0.2s; }
			.dot:nth-child(3) { animation-delay: 0.4s; }
			
			@keyframes pulse {
				0%, 100% { opacity: 0.3; transform: scale(1); }
				50% { opacity: 1; transform: scale(1.2); }
			}
		</style>
	</head>

	<body>
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-8">
					<div class="error-card">
						<div class="error-header">
							<div class="error-icon">
								<i class="bi bi-exclamation-triangle-fill"></i>
							</div>
							<h1 class="error-code">404</h1>
							<h2>Page Not Found</h2>
							<p class="mb-0">We couldn't find what you're looking for</p>
						</div>
						
						<div class="error-body">
							<div class="text-center mb-4">
								<p class="lead text-muted">
									The page you're trying to access doesn't exist or has been moved.
								</p>
								<div class="status-animation">
									<div class="dot"></div>
									<div class="dot"></div>
									<div class="dot"></div>
								</div>
							</div>
							
							<div class="row g-4 mb-4">
								<div class="col-md-6">
									<div class="suggestion-card">
										<h5><i class="bi bi-lightbulb me-2"></i>Quick Fixes</h5>
										<div class="suggestion-item">
											<i class="bi bi-arrow-return-left"></i>
											<div>
												<strong>Check the URL</strong>
												<small class="d-block text-muted">Ensure the address is spelled correctly</small>
											</div>
										</div>
										<div class="suggestion-item">
											<i class="bi bi-arrow-clockwise"></i>
											<div>
												<strong>Refresh the page</strong>
												<small class="d-block text-muted">Sometimes a simple refresh helps</small>
											</div>
										</div>
										<div class="suggestion-item">
											<i class="bi bi-trash"></i>
											<div>
												<strong>Clear browser cache</strong>
												<small class="d-block text-muted">Cached data might be causing issues</small>
											</div>
										</div>
									</div>
								</div>
								
								<div class="col-md-6">
									<div class="suggestion-card">
										<h5><i class="bi bi-shield-check me-2"></i>Safety Check</h5>
										<div class="suggestion-item">
											<i class="bi bi-check-circle"></i>
											<div>
												<strong>Your data is secure</strong>
												<small class="d-block text-muted">All your information remains protected</small>
											</div>
										</div>
										<div class="suggestion-item">
											<i class="bi bi-chat"></i>
											<div>
												<strong>Chat support available</strong>
												<small class="d-block text-muted">Get help from our AI therapist</small>
											</div>
										</div>
										<div class="suggestion-item">
											<i class="bi bi-clock-history"></i>
											<div>
												<strong>Service status: Normal</strong>
												<small class="d-block text-muted">All systems are operational</small>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<div class="action-buttons text-center">
								<p class="text-muted mb-3">Here's what you can do next:</p>
								<div class="d-flex flex-wrap justify-content-center gap-3">
									<button class="btn btn-primary" onclick="goHome()">
										<i class="bi bi-house-door me-2"></i>Go to Homepage
									</button>
									<button class="btn btn-outline-primary" onclick="goBack()">
										<i class="bi bi-arrow-left me-2"></i>Go Back
									</button>
									<button class="btn btn-outline-secondary" onclick="openChat()">
										<i class="bi bi-chat me-2"></i>Chat Support
									</button>
									<button class="btn btn-outline-info" onclick="reportIssue()">
										<i class="bi bi-bug me-2"></i>Report Issue
									</button>
								</div>
							</div>
							
							<div class="mt-4 pt-3 border-top text-center">
								<small class="text-muted">
									<i class="bi bi-info-circle me-1"></i>
									If this error persists, please contact our support team at 
									<a href="mailto:support@mindease.com" class="text-decoration-none">support@mindease.com</a>
								</small>
								<div class="mt-2">
									<small class="text-muted">
										Error ID: <code id="errorId">ERR-404-${Date.now().toString(36).toUpperCase()}</code>
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			// Generate error ID
			document.getElementById('errorId').textContent = `ERR-404-${Date.now().toString(36).toUpperCase()}`;
			
			// Navigation functions
			function goHome() {
				window.location.href = 'index.html';
			}
			
			function goBack() {
				if (document.referrer) {
					window.history.back();
				} else {
					goHome();
				}
			}
			
			function openChat() {
				// Save current error page for context
				localStorage.setItem('errorContext', window.location.href);
				window.location.href = 'chat.html';
			}
			
			function reportIssue() {
				const errorId = document.getElementById('errorId').textContent;
				const subject = encodeURIComponent(`Error Report: ${errorId}`);
				const body = encodeURIComponent(
					`I encountered an error on MindEase.\n\n` +
					`Error Details:\n` +
					`- Error ID: ${errorId}\n` +
					`- Page: ${window.location.href}\n` +
					`- User Agent: ${navigator.userAgent}\n\n` +
					`Description of what happened:\n\n`
				);
				
				window.location.href = `mailto:support@mindease.com?subject=${subject}&body=${body}`;
			}
			
			// Auto-redirect after 30 seconds
			setTimeout(() => {
				const redirectToast = `
					<div class="toast align-items-center text-bg-info border-0 position-fixed bottom-0 end-0 m-3" 
						 role="alert" aria-live="assertive" aria-atomic="true" id="redirectToast">
						<div class="d-flex">
							<div class="toast-body">
								<i class="bi bi-clock me-2"></i>
								Redirecting to homepage in <span id="countdown">10</span> seconds
							</div>
							<button type="button" class="btn-close btn-close-white me-2 mt-2" 
									data-bs-dismiss="toast" aria-label="Close"></button>
						</div>
					</div>
				`;
				
				document.body.insertAdjacentHTML('beforeend', redirectToast);
				const toastEl = document.getElementById('redirectToast');
				const toast = new bootstrap.Toast(toastEl, { delay: 10000 });
				toast.show();
				
				let countdown = 10;
				const countdownElement = document.getElementById('countdown');
				const countdownInterval = setInterval(() => {
					countdown--;
					countdownElement.textContent = countdown;
					
					if (countdown <= 0) {
						clearInterval(countdownInterval);
						goHome();
					}
				}, 1000);
				
				// Stop countdown if toast is dismissed
				toastEl.addEventListener('hidden.bs.toast', () => {
					clearInterval(countdownInterval);
				});
			}, 20000);
			
			// Log error for analytics
			document.addEventListener('DOMContentLoaded', function() {
				const errorData = {
					timestamp: new Date().toISOString(),
					url: window.location.href,
					referrer: document.referrer,
					userAgent: navigator.userAgent,
					errorId: document.getElementById('errorId').textContent
				};
				
				// Save to localStorage for debugging
				try {
					const errorLogs = JSON.parse(localStorage.getItem('errorLogs') || '[]');
					errorLogs.push(errorData);
					if (errorLogs.length > 50) errorLogs.shift(); // Keep last 50 errors
					localStorage.setItem('errorLogs', JSON.stringify(errorLogs));
				} catch (e) {
					console.error('Could not save error log:', e);
				}
			});
		</script>
	</body>
</html>